{% extends "base.html" %}

{% block title %}Lojas — Cadastro{% endblock %}

{% block content %}
  <div class="flex items-center justify-between mb-4">
    <div>
      <h1 class="text-xl font-semibold">Lojas</h1>
      <div class="text-sm text-slate-600">Cadastro mestre de lojas.</div>
    </div>

    <a href="{% url 'registry:loja_create' %}" class="rounded-lg bg-slate-900 text-white px-4 py-2 hover:bg-slate-800 text-sm">
      Nova loja
    </a>
  </div>

  <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-5">
    <table class="min-w-full text-sm">

    <thead>
      <tr class="text-left text-slate-600 border-b border-slate-200">
        <th class="py-3 pr-4">Java</th>
        <th class="py-3 pr-4">Hist.</th>
        <th class="py-3 pr-4">Nome loja</th>
        <th class="py-3 pr-4">Endereço</th>
        <th class="py-3 pr-4">Logomarca</th>
        <th class="py-3 pr-4">Cidade/UF</th>
        <th class="py-3 pr-4">Telefone</th>
        <th class="py-3 pr-4">IP Banco 12</th>
        <th class="py-3 pr-4"></th>
      </tr>
    </thead>

    <tbody class="divide-y divide-slate-100">
      {% for loja in lojas %}
        <tr class="hover:bg-slate-50">
          <td class="py-3 pr-4 font-medium">{{ loja.codigo }}</td>
          <td class="py-3 pr-4">{{ loja.hist }}</td>
          <td class="py-3 pr-4">{{ loja.nome }}</td>

          <td class="py-3 pr-4 max-w-md truncate" title="{{ loja.endereco }}">
            {{ loja.endereco }}
          </td>

          <td class="py-3 pr-4">{{ loja.logomarca }}</td>

          <td class="py-3 pr-4">
            {% if loja.cidade %}{{ loja.cidade }}{% endif %}{% if loja.uf %}/{{ loja.uf }}{% endif %}
          </td>

          <td class="py-3 pr-4">{{ loja.telefone }}</td>

          <td class="py-3 pr-4">
            {{ loja.ip_banco_12|default_if_none:"" }}
          </td>

          <td class="py-3 pr-4 text-right">
            <a href="{% url 'registry:loja_update' loja.pk %}" class="text-sm text-slate-600 hover:underline">
              Editar
            </a>
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="9" class="py-6 text-slate-500 text-center">Nenhuma loja cadastrada.</td>
        </tr>
      {% endfor %}
    </tbody>


    </table>
  </div>
{% endblock %}
